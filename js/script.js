"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jsTools={getNumber:function(e){return parseInt(e.replace(/[^\d]/g,""))},getWindowWidth:function(){return document.documentElement.clientWidth},getNumberFormat:function(e,t,n,i){var o,a;return isNaN(t=Math.abs(t))&&(t=2),null==n&&(n=","),null==i&&(i="."),(a=(o=parseInt(e=(+e||0).toFixed(t))+"").length)>3?a%=3:a=0,(a?o.substr(0,a)+i:"")+o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?n+Math.abs(e-o).toFixed(t).replace(/-/,0).slice(2):"")}},media={mobile:window.matchMedia("(max-width: 767.98px)"),tablet:window.matchMedia("(max-width: 1279.98px)")};window.addEventListener("load",(function(){new Inputmask("+7(999)999-99-99").mask('input[type="tel"]')})),new Swiper(".banner__swiper",{loop:!0,navigation:{nextEl:".banner__next",prevEl:".banner__prev"},autoplay:{delay:5e3}}),document.querySelector(".tabs")&&new OzimnadTabs({selector:".tabs"}),document.querySelectorAll("[data-slider]").forEach((function(e){var t=e.querySelector(".slider__swiper"),n={slidesPerView:2,spaceBetween:10,navigation:{nextEl:e.querySelector(".slider__next"),prevEl:e.querySelector(".slider__prev")},breakpoints:{767.98:{spaceBetween:20},1279.98:{slidesPerView:4}}};2==t.dataset.sliderType&&(n.slidesPerView="auto",n.breakpoints={767.98:{spaceBetween:20,slidesPerView:"auto"},1279.98:{spaceBetween:20,slidesPerView:"auto"}}),new Swiper(t,n)})),new Swiper(".news__swiper",{slidesPerView:1,spaceBetween:20,navigation:{nextEl:".news__next",prevEl:".news__prev"},pagination:{el:".news__pag"},breakpoints:{767.98:{slidesPerView:2},1279.98:{slidesPerView:3}}}),$(".catalog__count").selectize({}),document.querySelector(".catalog-menu")&&new OzimnadAccordion({selector:".catalog-menu",openAll:!0}),$(".filter").on("submit",(function(e){e.preventDefault()})),$(".filter").on("change",(function(e){e.preventDefault(),$(".filter__submit").css("top",e.target.offsetTop+"px").addClass("active")})),$(".filter__btn").on("click",(function(e){window.matchMedia("(min-width: 1920px)").matches?($(".filter__blocks").slideToggle(300),this.classList.toggle("active")):$(".aside__filter").removeClass("active")})),document.querySelector(".filter")&&window.addEventListener("click",(function(e){var t=e.target,n=document.querySelector(".aside__filter");t.closest(".catalog__filter-btn")?n.classList.add("active"):t.closest(".aside__filter")||n.classList.remove("active")})),window.addEventListener("load",(function(){document.querySelectorAll(".range").forEach((function(e){var t=Number(e.dataset.from),n=Number(e.dataset.to),i=e.querySelector(".range__slider");noUiSlider.create(i,{start:[t,n],connect:!0,step:1,range:{min:t,max:n}});var o=e.querySelectorAll(".range__input");i.noUiSlider.on("update",(function(e,t){o[t].value=Math.round(e[t])})),i.noUiSlider.on("end",(function(e,t){$(o[t]).trigger("change")})),o.forEach((function(e,t){e.addEventListener("change",(function(){i.noUiSlider.set(function(e,t){var n=[null,null];return n[e]=t,n}(t,this.value))}))}))}))})),$(".filter-block__btn").on("click",(function(){var e=$(this);e.next().slideToggle(300),e.toggleClass("active")})),$('[data-hide="btn"]').on("click",(function(){var e=$(this);e.closest('[data-hide="parent"]').find("[data-hidden]").slideToggle(100),e.toggleClass("open")})),$(".sort").selectize({}),function(){var e=new Swiper(".product__thumbs",{direction:"horizontal",spaceBetween:10,slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0,breakpoints:{767.98:{direction:"vertical"}}});new Swiper(".product__swiper",{spaceBetween:10,navigation:{nextEl:".product__next",prevEl:".product__prev"},thumbs:{swiper:e}});document.querySelector(".product__count input")&&document.querySelector(".product__count input").addEventListener("change",(function(){var e=document.querySelector('[data-product="price"]').innerHTML,t=Number(e*this.value).toLocaleString(!0);document.querySelector(".product__buy-price").innerHTML=t+" руб."}))}(),$("body").on("click",".count__down",(function(e){e.preventDefault();var t=$(this).closest(".count").find(".count__input")[0];t.stepDown(),t.dispatchEvent(new Event("change"))})),$("body").on("click",".count__up",(function(e){e.preventDefault();var t=$(this).closest(".count").find(".count__input")[0];t.stepUp(),t.dispatchEvent(new Event("change"))})),document.querySelector(".product-accordion")&&new OzimnadAccordion({selector:".product-accordion"}),media.tablet.matches&&window.addEventListener("click",(function(e){var t=e.target,n=document.querySelector(".drop-menu__drop");t.closest(".drop-menu__btn")?(e.preventDefault(),n.classList.add("active")):n.classList.remove("active")})),window.addEventListener("load",(function(){new Mmenu}));var Mmenu=function(){function e(t){var n=this;_classCallCheck(this,e),_defineProperty(this,"click",(function(){n.overflow(),n.active?n.close():n.open()})),_defineProperty(this,"clickNav",(function(){n.navActive?n.closeNav():n.openNav()}));Object.assign(this,{selector:'[data-mmenu="main"]',selectorOpen:'[data-mmenu="open"]',selectorOpenNav:'[data-mmenu="openNav"]',selectorNav:'[data-mmenu="nav"]',active:!1,navActive:!1},t),this.main=document.querySelector(this.selector),this.btn=document.querySelector(this.selectorOpen),this.btnNav=document.querySelector(this.selectorOpenNav),this.nav=document.querySelector(this.selectorNav),this.events()}return _createClass(e,[{key:"events",value:function(){this.btn.addEventListener("click",this.click),this.btnNav.addEventListener("click",this.clickNav)}},{key:"open",value:function(){this.btn.classList.add("open"),this.btn.classList.remove("close"),this.main.classList.add("open"),this.active=!0}},{key:"close",value:function(){this.btn.classList.remove("open"),this.btn.classList.add("close"),this.main.classList.remove("open"),this.active=!1,this.closeNav()}},{key:"openNav",value:function(){this.nav.classList.add("open"),this.navActive=!0}},{key:"closeNav",value:function(){this.nav.classList.remove("open"),this.navActive=!1}},{key:"overflow",value:function(){this.active?document.querySelector("body").classList.remove("ovh"):document.querySelector("body").classList.add("ovh")}}]),e}();media.mobile.matches&&document.querySelectorAll(".footer__title--arr").forEach((function(e){e.addEventListener("click",(function(e){var t=$(this);t.next().slideToggle(300),t.toggleClass("active")}))}));
//# sourceMappingURL=script.js.map